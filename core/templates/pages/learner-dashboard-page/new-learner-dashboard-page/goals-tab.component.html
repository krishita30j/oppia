<div class="goals-box">
  <p class="goals-title" [innerHTML]="'I18N_LEARNER_DASHBOARD_CURRENT_GOALS_SECTION' | translate">
  </p>
  <div *ngIf="currentGoals.length > 0">
    <div *ngFor="let topic of currentGoals; let i = index">
      <div class="current-goals-content">
        <div class="arrow-button">
          <i class="fa fa-caret-right" aria-hidden="true" *ngIf="!currentGoalsStoryIsShown[i]" (click)="toggleStory(i)"></i>
          <i class="fa fa-caret-down" aria-hidden="true" *ngIf="currentGoalsStoryIsShown[i]" (click)="toggleStory(i)"></i>
        </div>
        <div class="trash-button" (click)="removeFromLearnerGoals(topic.id, topic.name, i)">
          <i class="fa fa-trash"></i>
        </div>
        <p class="current-goals-topic-name">
          Learn {{topic.name}}
        </p>
        <p class="goals-story-name">
          Complete a story in '{{topic.name}}'
        </p>
        <div *ngIf="currentGoalsStoryIsShown[i]">
          <div *ngFor="let story of topic.canonicalStoryDicts" class="story-summary-card">
            <oppia-learner-story-summary-tile [storySummary]="story"
                                              [topicTitle]="topic.name">
            </oppia-learner-story-summary-tile>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="currentGoals.length == 0" class="empty-goals-content">
    <p [innerHTML]="'I18N_LEARNER_DASHBOARD_EMPTY_CURRENT_GOALS_SECTION' | translate"></p>
  </div>
</div>
<div class="goals-box">
  <p class="edit-goals-title" [innerHTML]="'I18N_LEARNER_DASHBOARD_EDIT_GOALS_SECTION' | translate"> </p>
  <span class="oppia-input-box-subtitle">
    <em>
      Limit of {{MAX_CURRENT_GOALS_LENGTH}} goals
    </em>
  </span>
  <div class="edit-goals-subheading">
    <p class="edit-goals-topic-title">Topic</p>
    <p class="edit-goals-learn-title">Learn</p>
  </div>
  <div *ngFor="let topic of editGoals; let i = index">
    <div class="edit-goals-content">
      <a [href]="getTopicPageUrl(topic.urlFragment, topic.classroom)" class="goals-topic-name">
        {{topic.name}}
        <p *ngIf="topicBelongToLearntToPartiallyLearntTopics(topic.name)" class="new-story-content" [innerHTML]="'I18N_LEARNER_DASHBOARD_NEW_STORY_CONTENT' | translate">
        </p>
      </a>
      <mat-checkbox color="primary" *ngIf="topicBelongsTo(topic.id) == 2" class="checkbox" (click)="addToLearnerGoals(topic, topic.id, i)" [disabled]="this.currentGoals.length == this.MAX_CURRENT_GOALS_LENGTH"></mat-checkbox>
      <mat-checkbox color="primary" *ngIf="topicBelongsTo(topic.id) == 0" checked disabled class="checkbox"></mat-checkbox>
    </div>
  </div>
</div>
<div class="goals-box">
    <p class="goals-title" [innerHTML]="'I18N_LEARNER_DASHBOARD_COMPLETED_GOALS_SECTION' | translate">
    </p>
    <div *ngIf="completedGoals.length > 0">
      <div *ngFor="let topic of completedGoals">
        <div class="completed-goals-content">
          <a [href]="getTopicPageUrl(topic.urlFragment, topic.classroom)" class="completed-goals-topic-name">
            Learnt {{topic.name}}
          </a>
          <div *ngFor="let story of topic.storyTitles">
            <p class="goals-story-name">
              Completed {{story}}
            </p>
          </div>
        </div>
      </div>
    </div>
    <div *ngIf="completedGoals.length == 0" class="empty-goals-content">
      <p [innerHTML]="'I18N_LEARNER_DASHBOARD_EMPTY_COMPLETED_GOALS_SECTION' | translate"></p>
    </div>
</div>

<style>
  .arrow-button {
    color: #00645C;
    float: left;
    height: 44px;
    position: relative;
    right: 10px;
    text-align: right;
    width: 6px;
  }
  .current-goals-content {
    border-bottom: 1px solid #CCCCCC;
    min-height: 57px;
    width: 600px;
    margin-left: 80px;
    margin-bottom: 16px;
  }
  .completed-goals {
    border-bottom: 1px solid #CCCCCC;
    height: 125px;
    width: 656px;
    margin-bottom: 14px;
  }
  .goals-title {
    color: #333333;
    font-size: 28px;
    font-weight: 500;
    letter-spacing: 0px;
    margin-bottom: 30px;
    opacity: 1;
    padding: 32px 0px 0px 33px;
    position: relative;
    text-align: left;
  }
  .completed-goals-content {
    border-bottom: 1px solid #CCCCCC;
    min-height: 57px;
    width: 656px;
    margin: auto;
    margin-bottom: 14px;
    padding-left: 7px;
  }
  .goals-story-name {
    text-align: left;
    font-size: 16px;
    font-style: italic;
    letter-spacing: 0px;
    color: #333333B3;
    opacity: 1;
  }
  .edit-goals-content {
    border-bottom: 1px solid #CCCCCC;
    min-height: 36px;
    width: 656px;
    margin: auto;
    margin-bottom: 14px;
  }
  .edit-goals-learn-title {
    color: #333333;
    float: right;
    font-size: 22px;
    font-weight: 500;
    letter-spacing: 0px;
    margin-bottom: 0px;
    opacity: 1;
    position: relative;
    right: 50px;
    text-align: center;
    top: -46px;
    width: 150px;
  }
  .edit-goals-subheading {
    border-bottom: 1px solid #CCCCCC;
    height: 68px;
    margin: auto;
    margin-bottom: 14px;
    width: 656px;
  }
  .current-goals-topic-name {
    color: #333333;
    display: inline-block;
    font-size: 19px;
    letter-spacing: 0px;
    margin-bottom: 0px;
    opacity: 1;
    position: relative;
    text-align: left;
    width: 500px;
  }
  .completed-goals-topic-name {
    color: #333333;
    display: inline-block;
    font-size: 19px;
    letter-spacing: 0px;
    margin-bottom: 0px;
    opacity: 1;
    position: relative;
    text-align: left;
    width: 450px;
  }
  .goals-topic-name {
    color: #333333;
    display: inline-block;
    font-size: 19px;
    letter-spacing: 0px;
    margin-bottom: 0px;
    opacity: 1;
    position: relative;
    text-align: left;
    width: 150px;
  }
  .new-story-content {
    text-align: left;
    font-size: 16px;
    width: 300px;
    letter-spacing: 0px;
    color: #00645C;
    text-transform: uppercase;
    opacity: 1;
  }
  .goals-topic-name:hover {
    text-decoration: none;
    font-weight: 450;
  }
  .edit-goals-topic-title {
    color: #333333;
    font-size: 22px;
    font-weight: 450;
    letter-spacing: 0px;
    margin-bottom: 0px;
    opacity: 1;
    padding: 32px 0px 20px 0px;
    position: relative;
    text-align: left;
    width: 150px;
  }
  .empty-goals-content {
    color: #333333;
    font-size: 18px;
    height: 44px;
    letter-spacing: 0px;
    margin: auto;
    opacity: 1;
    text-align: left;
    width: 656px
  }
  .checkbox {
    left: 675px;
    position: absolute;
    transform: translateY(0%);
    text-align: center;
  }
  .goals-box {
    background-color: #fff;
    border-radius: 4px;
    box-shadow: 0px 0px 4px #0000001a;
    margin: auto;
    margin-bottom: 25px;
    opacity: 1;
    padding: 0 0 30px 0;
    width: 726px;
  }
  .edit-goals-title {
    color: #333333;
    font-size: 28px;
    font-weight: 500;
    letter-spacing: 0px;
    margin-bottom: 0px;
    opacity: 1;
    padding: 32px 0px 0px 33px;
    position: relative;
    text-align: left;
  }
  .oppia-input-box-subtitle {
    padding: 0px 33px;
  }
  .story-summary-card {
    display: inline-block;
  }
  .trash-button {
    color: #555555;
    float: right;
    font-size: 13px;
    width: 24px;
    height: 24px;
    margin-right: 40px;
    cursor: pointer;
  }
  @media screen and (max-width: 768px) {
    .goals-box {
    width: 369px;
  }
  .current-goals-topic-name {
    width: 260px;
  }
  .goals-story-name {
    width: 250px;
  }
  .trash-button {
    margin-right: 3px;
  }
  .current-goals-content {
    width: 293px;
    margin-left: 50px;
  }
  .edit-goals-subheading {
    width: 300px;
  }
  .edit-goals-learn-title {
    text-align: end;
  }
  .edit-goals-content {
    width: 300px;
  }
  .checkbox {
    left: 270px;
  }
  .new-story-content {
    font-size: 13px;
  }
  .completed-goals-content {
    width: 300px;
  }
  .completed-goals-topic-name {
    width: 250px;
  }
  .goals-title {
    margin-bottom: 20px;
  }
  .empty-goals-content {
    margin-bottom: 20px;
    width: 300px;
  }
  .goals-topic-name {
    width: 134px;
  }
  }
</style>